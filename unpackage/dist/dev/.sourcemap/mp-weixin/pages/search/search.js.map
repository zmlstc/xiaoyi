{"version":3,"sources":["webpack:///F:/xiaoyi/main.js","webpack:///F:/xiaoyi/pages/search/search.vue?235b","webpack:///F:/xiaoyi/pages/search/search.vue?b0ca","webpack:///F:/xiaoyi/pages/search/search.vue?0f5f","webpack:///F:/xiaoyi/pages/search/search.vue?f3c4","webpack:///F:/xiaoyi/pages/search/search.vue","webpack:///F:/xiaoyi/pages/search/search.vue?30d4","webpack:///F:/xiaoyi/pages/search/search.vue?cd39"],"names":["createPage","Page","data","city","mapinfo","defaultKeyword","keyword","storelist","oldKeywordList","hotKeywordList","keywordList","forbid","isShowKeywordList","isShowStoreList","onLoad","init","loadData","JSON","stringify","Location","console","log","city_name","has_agent","_this","locationMap","components","searchInput","uniRate","computed","methods","$Request","post","page","curpage","lat","lng","adcode","city_id","then","res","code","datas","store_list","loadDefaultKeyword","loadOldKeyword","loadHotKeyword","blur","uni","hideKeyboard","getStorage","key","success","OldKeys","parse","inputChange","event","detail","value","drawCorrelativeKeyword","keywords","len","length","keywordArr","i","row","html","replace","tmpObj","htmlStr","push","setkeyword","oldDelete","showModal","content","confirm","removeStorage","cancel","hotToggle","doSearch","saveKeyword","toStore","store_id","navigateTo","url","amapPlugin","amap","AMapWX","getRegeo","regeocodeData","addressComponent","areainfo","area_name","_location","latitude","longitude","area_id","shortname","setLocation","findIndex","indexOf","unshift","splice","pop","setStorage","fail","e"],"mappings":"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","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=60e7a521&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('60e7a521')) {\n      api.createRecord('60e7a521', component.options)\n    } else {\n      api.reload('60e7a521', component.options)\n    }\n    module.hot.accept(\"./search.vue?vue&type=template&id=60e7a521&\", function () {\n      api.rerender('60e7a521', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/xiaoyi/pages/search/search.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=template&id=60e7a521&\"","var components = {\n  \"uni-rate\": () =>\n    import(/* webpackChunkName: \"components/uni-rate/uni-rate\" */ \"@/components/uni-rate/uni-rate.vue\")\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n//引用mSearch组件，如不需要删除即可\nimport searchInput from '@/components/search-input/search.vue';\nimport amap from '../../common/SDK/amap/amap-wx.js';\nimport uniRate from \"../../components/uni-rate/uni-rate.vue\"\nimport {\n\tmapState,\n\tmapMutations\n} from 'vuex';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcity:'定位中',\n\t\t\tmapinfo:[],\n\t\t\tdefaultKeyword: \"\",\n\t\t\tkeyword: '',\n\t\t\tstorelist: [],\n\t\t\toldKeywordList: [],\n\t\t\thotKeywordList: [],\n\t\t\tkeywordList: [],\n\t\t\tforbid: '',\n\t\t\tisShowKeywordList: false,\n\t\t\tisShowStoreList:false\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.init();\n\t\tthis.loadData();\n\t\tif(JSON.stringify(this.Location) !== \"{}\") {\n\t\t\tconsole.log('==Location not null===');\n\t\t\t\n\t\t\tthis.mapinfo =this.Location;\n\t\t\tthis.city = this.Location.city_name;\n\t\t\tif( this.Location.has_agent==1){\n\t\t\t\tthis.has_agent=true;\n\t\t\t}else{\n\t\t\t\t_this.has_agent=false;\n\t\t\t}\n\t\t\tthis.loadData();\n\t\t}else{\n\t\t\tthis.locationMap();\n\t\t}\n\t},\n\tcomponents: {\n\t\t//引用searchInput组件，如不需要删除即可\n\t\tsearchInput,\n\t\tuniRate\n\t},\n\tcomputed: mapState(['Location']),\n\tmethods: {\n\t\t...mapMutations(['setLocation']),\n\t\tasync loadData() {\n\t\t\tvar _this = this;\n\t\t\tconsole.log(this.mapinfo);\n\t\t\t// uni.request({\n\t\t\t// \turl: 'https://www.fhlego.com/api/mobile/index.php/shop/shop_list?keyword=' + _this.keyword, //仅为示例\n\t\t\t// \tdata:{\n\t\t\t// \t\tlat:this.mapinfo.lat,\n\t\t\t// \t\tlng:this.mapinfo.lng,\n\t\t\t// \t\tadcode:this.mapinfo.adcode\n\t\t\t// \t},\n\t\t\t// \tsuccess: (res) => {\n\t\t\t// \t\tconsole.log(res.data.datas.store_list)\n\t\t\t// \t\t_this.storelist = [];\n\t\t\t// \t\t_this.storelist = res.data.datas.store_list;\n\t\t\t// \t\t//this.keywordList = this.drawCorrelativeKeyword(res.data.result, keyword);\n\t\t\t// \t}\n\t\t\t// });\n\t\t\tconsole.log(this.mapinfo);\n\t\t\tthis.$Request.post('shop/shop_list?keyword=' + _this.keyword,{page:10,curpage:this.page,lat:this.mapinfo.lat,lng:this.mapinfo.lng,adcode:this.mapinfo.adcode,city_id:this.mapinfo.city_id}).then(res => {\n\t\t\t\tif (res.code == 200) {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t_this.storelist = res.datas.store_list;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t\tconsole.log(this.storelist)\n\t\t},\n\t\tinit() {\n\t\t\tthis.loadDefaultKeyword();\n\t\t\tthis.loadOldKeyword();\n\t\t\tthis.loadHotKeyword();\n\n\t\t},\n\t\tblur() {\n\t\t\tuni.hideKeyboard()\n\t\t},\n\t\t//加载默认搜索关键字\n\t\tloadDefaultKeyword() {\n\t\t\t//定义默认搜索关键字，可以自己实现ajax请求数据再赋值,用户未输入时，以水印方式显示在输入框，直接不输入内容搜索会搜索默认关键字\n\t\t\tthis.defaultKeyword = \"默认关键字\";\n\t\t},\n\t\t//加载历史搜索,自动读取本地Storage\n\t\tloadOldKeyword() {\n\t\t\tuni.getStorage({\n\t\t\t\tkey: 'OldKeys',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tvar OldKeys = JSON.parse(res.data);\n\t\t\t\t\tthis.oldKeywordList = OldKeys;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//加载热门搜索\n\t\tloadHotKeyword() {\n\t\t\t//定义热门搜索关键字，可以自己实现ajax请求数据再赋值\n\t\t\tthis.hotKeywordList = ['键盘', '鼠标', '显示器', '电脑主机', '蓝牙音箱', '笔记本电脑', '鼠标垫', 'USB', 'USB3.0'];\n\t\t},\n\t\t//监听输入\n\t\tinputChange(event) {\n\t\t\tvar _this = this;\n\t\t\t//兼容引入组件时传入参数情况\n\t\t\tvar keyword = event.detail ? event.detail.value : event;\n\t\t\t_this.keyword = keyword;\n\t\t\tconsole.log(_this.keyword)\n\t\t\tif(keyword) {\n\t\t\t\tthis.isShowStoreList = true;\n\t\t\t\tthis.isShowKeywordList = true;\n\t\t\t} else {\n\t\t\t\tthis.isShowStoreList = false;\n\t\t\t\tthis.keywordList = [];\n\t\t\t\tthis.isShowKeywordList = false;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//this.isShowKeywordList = true;\n\t\t\t//以下示例截取淘宝的关键字，请替换成你的接口\n\t\t\t// uni.request({\n\t\t\t// \turl: 'https://www.fhlego.com/api/mobile/index.php/shop/shop_list?code=utf-8&keyword=' + keyword, //仅为示例\n\t\t\t// \tsuccess: (res) => {\n\t\t\t// \t\tconsole.log(res.data.datas.store_list)\n\t\t\t// \t\t_this.storelist = res.data.datas.store_list;\n\t\t\t// \t\t_this.loadData();\n\t\t\t// \t\t//this.keywordList = this.drawCorrelativeKeyword(res.data.result, keyword);\n\t\t\t// \t}\n\t\t\t// });\n\t\t\t_this.loadData()\n\n\t\t},\n\t\t//高亮关键字\n\t\tdrawCorrelativeKeyword(keywords, keyword) {\n\t\t\tvar len = keywords.length,\n\t\t\t\tkeywordArr = [];\n\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\tvar row = keywords[i];\n\t\t\t\t//定义高亮#9f9f9f\n\t\t\t\tvar html = row[0].replace(keyword, \"<span style='color: #9f9f9f;'>\" + keyword + \"</span>\");\n\t\t\t\thtml = '<div>' + html + '</div>';\n\t\t\t\tvar tmpObj = {\n\t\t\t\t\tkeyword: row[0],\n\t\t\t\t\thtmlStr: html\n\t\t\t\t};\n\t\t\t\tkeywordArr.push(tmpObj)\n\t\t\t}\n\t\t\treturn keywordArr;\n\t\t},\n\t\t//顶置关键字\n\t\tsetkeyword(data) {\n\t\t\tthis.keyword = data.keyword;\n\t\t},\n\t\t//清除历史搜索\n\t\toldDelete() {\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '确定清除历史搜索记录？',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tconsole.log('用户点击确定');\n\t\t\t\t\t\tthis.oldKeywordList = [];\n\t\t\t\t\t\tuni.removeStorage({\n\t\t\t\t\t\t\tkey: 'OldKeys'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\tconsole.log('用户点击取消');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//热门搜索开关\n\t\thotToggle() {\n\t\t\tthis.forbid = this.forbid ? '' : '_close';\n\t\t},\n\t\t//执行搜索\n\t\tdoSearch(key) {\n\t\t\tkey = key ? key : this.keyword ? this.keyword : this.defaultKeyword;\n\t\t\tthis.keyword = key;\n\t\t\tthis.saveKeyword(key); //保存为历史 \n\t\t\t// uni.showToast({\n\t\t\t// \ttitle: key,\n\t\t\t// \ticon: 'none',\n\t\t\t// \tduration: 2000\n\t\t\t// });\n\t\t\tif(key) {\n\t\t\t\tthis.isShowStoreList = true;\n\t\t\t\tthis.isShowKeywordList = true;\n\t\t\t} else {\n\t\t\t\tthis.isShowStoreList = false;\n\t\t\t\tthis.keywordList = [];\n\t\t\t\tthis.isShowKeywordList = false;\n\t\t\t}\n\t\t\tthis.loadData()\n\t\t\t//以下是示例跳转淘宝搜索，可自己实现搜索逻辑\n\t\t},\n\t\ttoStore: function(store_id) {\n\t\t\tuni.navigateTo({\n\t\t\t\t//url:\"/pages/member/login\",\n\t\t\t\turl:\"/pages/store/index?store_id=\"+store_id,\n\t\t\t})\n\t\t},\n\t\tlocationMap(){\n\t\t\tvar _this = this;\n\t\t\tthis.amapPlugin = new amap.AMapWX({\n\t\t\t\t//高德地图KEY，参考：http://ask.dcloud.net.cn/article/35070\n\t\t\t\tkey: '57796d182a0849a4bff2b46fd6088ed3'\n\t\t\t});\n\t\t\t//定位地址\n\t\t\t_this.amapPlugin.getRegeo({\n\t\t\t\tsuccess: data => {\n\t\t\t\t\t//_this.mapinfo={lat:data[0].latitude,lng:data[0].longitude,adcode:data[0].regeocodeData.addressComponent.adcode};\n\t\t\t\t\tconsole.log('-----amap---------');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t_this.$Request.post('area/getareainfo',{adcode:data[0].regeocodeData.addressComponent.adcode}).then(res => {\n\t\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t//this.login(res.datas);\n\t\t\t\t\t\t\t_this.city = res.datas.areainfo.area_name;\n\t\t\t\t\t\t\tlet _location={lat:data[0].latitude,lng:data[0].longitude,city_id:res.datas.areainfo.area_id,city_name:res.datas.areainfo.shortname,has_agent:res.datas.has_agent};\n\t\t\t\t\t\t\t_this.setLocation(_location);\n\t\t\t\t\t\t\tthis.mapinfo = _location;\n\t\t\t\t\t\t\tif(res.datas.has_agent==1){\n\t\t\t\t\t\t\t\t_this.has_agent=true;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t_this.has_agent=false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_this.loadData();\n\t\t\t\t\t});\n\t\t\t\t\t//_this.city = data[0].regeocodeData.addressComponent.city.replace(/市/g, ''); //把\"市\"去掉\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//保存关键字到历史记录\n\t\tsaveKeyword(keyword) {\n\t\t\tuni.getStorage({\n\t\t\t\tkey: 'OldKeys',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\tvar OldKeys = JSON.parse(res.data);\n\t\t\t\t\tvar findIndex = OldKeys.indexOf(keyword);\n\t\t\t\t\tif (findIndex == -1) {\n\t\t\t\t\t\tOldKeys.unshift(keyword);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tOldKeys.splice(findIndex, 1);\n\t\t\t\t\t\tOldKeys.unshift(keyword);\n\t\t\t\t\t}\n\t\t\t\t\t//最多10个纪录\n\t\t\t\t\tOldKeys.length > 10 && OldKeys.pop();\n\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\tkey: 'OldKeys',\n\t\t\t\t\t\tdata: JSON.stringify(OldKeys)\n\t\t\t\t\t});\n\t\t\t\t\tthis.oldKeywordList = OldKeys; //更新历史搜索\n\t\t\t\t},\n\t\t\t\tfail: (e) => {\n\t\t\t\t\tvar OldKeys = [keyword];\n\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\tkey: 'OldKeys',\n\t\t\t\t\t\tdata: JSON.stringify(OldKeys)\n\t\t\t\t\t});\n\t\t\t\t\tthis.oldKeywordList = OldKeys; //更新历史搜索\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}