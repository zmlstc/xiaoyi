(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/seller/sellerpicupload"],{2557:function(e,o,t){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=r(t("ed66")),a=t("2f62");function r(e){return e&&e.__esModule?e:{default:e}}var i=e.getSystemInfoSync(),u=i.windowWidth,c=i.windowHeight-50;console.log(i);var l={data:function(){return{cropperOpt:{id:"cropper",width:u,height:c,scale:2.5,zoom:8,cut:{x:(u-295)/2,y:(c-413)/2,width:295,height:295}},weCropper:""}},computed:(0,a.mapState)(["sellerHasLogin"]),methods:{touchStart:function(e){this.weCropper.touchStart(e)},touchMove:function(e){this.weCropper.touchMove(e)},touchEnd:function(e){this.weCropper.touchEnd(e)},convertBase64UrlToBlob:function(e,o){for(var t=atob(e.split(",")[1]),n=[],a=0;a<t.length;a++)n.push(t.charCodeAt(a));return new Blob([new Uint8Array(n)],{type:o},{filename:"1111.jpg"})},blobToDataURL:function(e){var o=new FileReader;o.readAsDataURL(e),o.onload=function(e){var o=e.target.result;console.log(o)}},getCropperImage:function(){var o=this;e.showLoading({title:"图片处理中..."}),o.weCropper.getCropperImage(function(t){t?o.$Request.upLoadFile("seller_index/ajax_update_avatar",t).then(function(o){console.log(o),console.log("===upload======"),200==o.code?(console.log("===upload=2====="),e.hideLoading(),console.log(o),e.showToast({icon:"none",title:o.datas.info,duration:3e3}),wx.redirectTo({url:"sellerinfo"})):(e.showToast({icon:"none",title:o.datas.error,duration:2e3}),e.hideLoading())}):console.log("获取图片失败，请稍后重试")})},uploadTap:function(){var o=this;e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){var t=e.tempFilePaths[0];o.weCropper.pushOrign(t)}})}},onLoad:function(o){this.sellerHasLogin||e.navigateTo({url:"login"});var t=this.cropperOpt,a=o.src;a&&(Object.assign(t,{src:a}),this.weCropper=new n.default(t).on("ready",function(e){}).on("beforeImageLoad",function(o){e.showToast({title:"上传中",icon:"loading",duration:3e3})}).on("imageLoad",function(o){e.hideToast()}))}};o.default=l}).call(this,t("543d")["default"])},"832b":function(e,o,t){"use strict";t.r(o);var n=t("2557"),a=t.n(n);for(var r in n)"default"!==r&&function(e){t.d(o,e,function(){return n[e]})}(r);o["default"]=a.a},8770:function(e,o,t){"use strict";var n=function(){var e=this,o=e.$createElement;e._self._c},a=[];t.d(o,"a",function(){return n}),t.d(o,"b",function(){return a})},"878e":function(e,o,t){"use strict";t.r(o);var n=t("8770"),a=t("832b");for(var r in a)"default"!==r&&function(e){t.d(o,e,function(){return a[e]})}(r);t("c9dc");var i=t("2877"),u=Object(i["a"])(a["default"],n["a"],n["b"],!1,null,null,null);o["default"]=u.exports},"933e":function(e,o,t){"use strict";(function(e){t("1857"),t("921b");n(t("66fd"));var o=n(t("878e"));function n(e){return e&&e.__esModule?e:{default:e}}e(o.default)}).call(this,t("543d")["createPage"])},a1c2:function(e,o,t){},c9dc:function(e,o,t){"use strict";var n=t("a1c2"),a=t.n(n);a.a}},[["933e","common/runtime","common/vendor"]]]);