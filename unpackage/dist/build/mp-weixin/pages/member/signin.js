(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/signin"],{"0785":function(n,t,o){"use strict";var e=o("4037"),i=o.n(e);i.a},1557:function(n,t,o){"use strict";o.r(t);var e=o("d1c8"),i=o.n(e);for(var a in e)"default"!==a&&function(n){o.d(t,n,function(){return e[n]})}(a);t["default"]=i.a},4037:function(n,t,o){},"9fae":function(n,t,o){"use strict";o.r(t);var e=o("a8a1"),i=o("1557");for(var a in i)"default"!==a&&function(n){o.d(t,n,function(){return i[n]})}(a);o("0785");var r=o("2877"),s=Object(r["a"])(i["default"],e["a"],e["b"],!1,null,null,null);t["default"]=s.exports},a8a1:function(n,t,o){"use strict";var e=function(){var n=this,t=n.$createElement;n._self._c},i=[];o.d(t,"a",function(){return e}),o.d(t,"b",function(){return i})},d1c8:function(n,t,o){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=a(o("a34a")),i=o("2f62");function a(n){return n&&n.__esModule?n:{default:n}}function r(n,t,o,e,i,a,r){try{var s=n[a](r),u=s.value}catch(l){return void o(l)}s.done?t(u):Promise.resolve(u).then(e,i)}function s(n){return function(){var t=this,o=arguments;return new Promise(function(e,i){var a=n.apply(t,o);function s(n){r(a,e,i,s,u,"next",n)}function u(n){r(a,e,i,s,u,"throw",n)}s(void 0)})}}var u={data:function(){return{list:[],loadingText:"正在加载...",hasmore:!0,curpage:1,isStop:!1,info:[]}},computed:(0,i.mapState)(["hasLogin","userInfo"]),onLoad:function(){console.log("页面加载"),this.loadData(),this.loadlist()},onReachBottom:function(){this.curpage++,this.loadlist()},methods:{loadData:function(){var t=s(e.default.mark(function t(){var o;return e.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:o=this,console.log("===userInfo==="+this.hasLogin),this.hasLogin?o.$Request.post("member_signin").then(function(t){200==t.code?(console.log(t),o.info=t.datas):(n.showToast({icon:"none",title:t.datas.error,duration:2e3}),n.navigateTo({url:"login"}))}):n.navigateTo({url:"login"});case 3:case"end":return t.stop()}},t,this)}));function o(){return t.apply(this,arguments)}return o}(),loadlist:function(){var t=this,o=this;if(console.log("===userInfo==="+this.hasLogin),this.hasLogin){if(!this.hasmore)return this.loadingText="我是底线",!1;o.$Request.post("member_signin/signin_list",{curpage:o.curpage}).then(function(n){if(200==n.code){console.log(n),o.hasmore=n.hasmore,console.log(o.hasmore);for(var e=n.datas.signin_list,i=0;i<e.length;i++)o.list.push(e[i]);if(!t.hasmore)return t.loadingText="我是底线",!1}})}else n.navigateTo({url:"login"})},signin:function(){var t=this;t.$Request.post("member_signin/signin_add").then(function(o){200==o.code?(console.log(o),t.curpage=1,t.list=[],t.hasmore=!0,t.loadData(),t.loadlist(),n.showToast({icon:"none",title:"签到成功！",duration:2e3})):n.showToast({icon:"none",title:o.datas.error,duration:2e3})})},toPage:function(t){n.navigateTo({url:t})}}};t.default=u}).call(this,o("543d")["default"])},fddd:function(n,t,o){"use strict";(function(n){o("1857"),o("921b");e(o("66fd"));var t=e(o("9fae"));function e(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,o("543d")["createPage"])}},[["fddd","common/runtime","common/vendor"]]]);