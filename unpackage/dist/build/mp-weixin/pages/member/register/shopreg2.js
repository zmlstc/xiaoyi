(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/register/shopreg2"],{1982:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("a34a"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,n,t,o,i,s,a){try{var c=e[s](a),r=c.value}catch(u){return void t(u)}c.done?n(r):Promise.resolve(r).then(o,i)}function a(e){return function(){var n=this,t=arguments;return new Promise(function(o,i){var a=e.apply(n,t);function c(e){s(a,o,i,c,r,"next",e)}function r(e){s(a,o,i,c,r,"throw",e)}c(void 0)})}}var c=function(){return t.e("components/mpvue-picker/mpvuePicker").then(t.bind(null,"b156"))},r=function(){return t.e("components/mpvue-citypicker/mpvueCityPicker").then(t.bind(null,"e3e3"))},u={components:{mpvuePicker:c,mpvueCityPicker:r},data:function(){return{company_type:0,company_name:"",business_licence_number:"",selectAreaTxt:"请选择所在区域",company_user_name:"",contacts_phone:"",mulLinkageTwoPicker:[],cityPickerValueDefault:[0,0,1],themeColor:"#007AFF",pickerText:"",mode:"",deepLength:1,pickerValueDefault:[0],pickerValueArray:[],selectStoreclassTxt:"选择所属行业",organization_code_electronic:"",company_user_name_pic:"",company_user_name_pic2:"",provId:0,cityId:0,areaId:0,storeClassId:0,storeClassId2:0,tky:"",organization_pic:"",user_pic:"",user_pic2:""}},onLoad:function(e){var n=this;console.log("------------"),n.tky=e.tk,n.$Request.post("store_joinin/getstoreclass").then(function(e){200==e.code&&(console.log(e),n.mulLinkageTwoPicker=e.datas)})},methods:{onCancel:function(e){console.log(e)},radioChange:function(e){this.company_type=e.target.value,console.log(e.target.value)},showMulLinkageTwoPicker:function(){this.pickerValueArray=this.mulLinkageTwoPicker,this.mode="multiLinkageSelector",this.deepLength=2,this.pickerValueDefault=[0,0],this.$refs.mpvuePicker.show()},showMulLinkageThreePicker:function(){this.$refs.mpvueCityPicker.show()},onConfirm:function(e){console.log(e),this.selectAreaTxt=e.name,console.log(e.name),this.provId=e.provinceCode,this.cityId=e.cityCode,this.areaId=e.areaCode},onConfirm2:function(e){console.log(e),this.selectStoreclassTxt=e.name,this.storeClassId=e.value[0],this.storeClassId2=e.value[1],console.log(e.name)},chooseImage:function(){var n=a(o.default.mark(function n(){var t;return o.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:t=this,e.chooseImage({sourceType:["camera","album"],sizeType:["original"],count:1,success:function(n){t.organization_code_electronic=n.tempFilePaths[0],console.log(JSON.stringify(n.tempFilePaths)),t.$Request.upLoadFile("store_joinin/image_upload",t.organization_code_electronic).then(function(n){console.log(n),console.log("===upload======"),200==n.code?(console.log("===upload=2====="),e.hideLoading(),console.log(n),t.organization_pic=n.datas.image_name):(e.showToast({icon:"none",title:n.datas.error,duration:2e3}),e.hideLoading())})}});case 2:case"end":return n.stop()}},n,this)}));function t(){return n.apply(this,arguments)}return t}(),chooseUserImage:function(){var n=a(o.default.mark(function n(){var t;return o.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:t=this,e.chooseImage({sourceType:["camera","album"],sizeType:["original"],count:1,success:function(n){t.company_user_name_pic=n.tempFilePaths[0],console.log(JSON.stringify(n.tempFilePaths)),t.$Request.upLoadFile("store_joinin/image_upload",t.company_user_name_pic).then(function(n){console.log(n),console.log("===upload======"),200==n.code?(console.log("===upload=2====="),e.hideLoading(),console.log(n),t.user_pic=n.datas.image_name):(e.showToast({icon:"none",title:n.datas.error,duration:2e3}),e.hideLoading())})}});case 2:case"end":return n.stop()}},n,this)}));function t(){return n.apply(this,arguments)}return t}(),chooseUserImage2:function(){var n=a(o.default.mark(function n(){var t;return o.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:t=this,e.chooseImage({sourceType:["camera","album"],sizeType:["original"],count:1,success:function(n){t.company_user_name_pic2=n.tempFilePaths[0],console.log(JSON.stringify(n.tempFilePaths)),t.$Request.upLoadFile("store_joinin/image_upload",t.company_user_name_pic2).then(function(n){console.log(n),console.log("===upload======"),200==n.code?(console.log("===upload=2====="),e.hideLoading(),console.log(n),t.user_pic2=n.datas.image_name):(e.showToast({icon:"none",title:n.datas.error,duration:2e3}),e.hideLoading())})}});case 2:case"end":return n.stop()}},n,this)}));function t(){return n.apply(this,arguments)}return t}(),nextReg:function(){var n=this.organization_pic,t=this.user_pic,o=this.user_pic2;if(0==this.company_type)return e.showToast({title:"请选择企业类型",icon:"none"}),!1;if(!/^[\u4e00-\u9fa5\(.*\)]{6,20}$/.test(this.company_name))return e.showToast({title:"请填写正确公司名称",icon:"none"}),!1;if(console.log("----"),!/^[\u4e00-\u9fa5()]{2,10}$/.test(this.company_user_name))return e.showToast({title:"请填写正确的法人姓名",icon:"none"}),!1;if(!/^[A-Za-z0-9]+$/.test(this.business_licence_number)||18!=this.business_licence_number.length)return e.showToast({title:"请填写正确的统一信用号",icon:"none"}),!1;if(this.contacts_phone.length<8)return e.showToast({title:"请填写正确的电话号码",icon:"none"}),!1;if(0==this.provId||0==this.cityId||0==this.areaId)return e.showToast({title:"请选择地区",icon:"none"}),!1;if(0==this.storeClassId||0==this.storeClassId2)return e.showToast({title:"请选择行业",icon:"none"}),!1;if(""==this.organization_pic)return e.showToast({title:"请上传营业执照",icon:"none"}),!1;if(""==this.user_pic)return e.showToast({title:"请上传法人身份证照片",icon:"none"}),!1;if(""==this.user_pic2)return e.showToast({title:"请上传法人身份证照片反面",icon:"none"}),!1;var i={company_name:this.company_name,company_province_id:this.provId,contacts_phone:this.contacts_phone,company_user_name:this.company_user_name,scid1:this.storeClassId,scid2:this.storeClassId2,scinfo:this.selectStoreclassTxt,company_user_name_pic:t,company_user_name_pic2:o,company_type:this.company_type,company_city_id:this.cityId,company_area_id:this.areaId,organization_code_electronic:n,company_address:this.selectAreaTxt,business_licence_number:this.business_licence_number,tky:this.tky};this.$Request.post("store_joinin/step2",i).then(function(n){200==n.code?(console.log(n),e.navigateTo({url:"shopreg3?tk="+n.datas.tk})):e.showToast({icon:"none",title:n.datas.error,duration:2e3})})}},onBackPress:function(){if(this.$refs.mpvueCityPicker.showPicker)return this.$refs.mpvueCityPicker.pickerCancel(),!0},onUnload:function(){this.$refs.mpvueCityPicker.showPicker&&this.$refs.mpvueCityPicker.pickerCancel()}};n.default=u}).call(this,t("543d")["default"])},"1dd1":function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement;e._self._c},i=[];t.d(n,"a",function(){return o}),t.d(n,"b",function(){return i})},"5d3d":function(e,n,t){"use strict";(function(e){t("1857"),t("921b");o(t("66fd"));var n=o(t("b9cd"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},a399:function(e,n,t){"use strict";var o=t("c22a"),i=t.n(o);i.a},b9cd:function(e,n,t){"use strict";t.r(n);var o=t("1dd1"),i=t("f3eb");for(var s in i)"default"!==s&&function(e){t.d(n,e,function(){return i[e]})}(s);t("a399");var a=t("2877"),c=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,null,null);n["default"]=c.exports},c22a:function(e,n,t){},f3eb:function(e,n,t){"use strict";t.r(n);var o=t("1982"),i=t.n(o);for(var s in o)"default"!==s&&function(e){t.d(n,e,function(){return o[e]})}(s);n["default"]=i.a}},[["5d3d","common/runtime","common/vendor"]]]);