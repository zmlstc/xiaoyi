(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/register/shopreg2"],{"352c":function(e,t,o){},a399:function(e,t,o){"use strict";var n=o("352c"),s=o.n(n);s.a},b9cd:function(e,t,o){"use strict";o.r(t);var n=o("df36"),s=o("f3eb");for(var i in s)"default"!==i&&function(e){o.d(t,e,function(){return s[e]})}(i);o("a399");var r=o("2877"),a=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=a.exports},df36:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},s=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return s})},ec01:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(o("a34a"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,o,n,s,i,r){try{var a=e[i](r),c=a.value}catch(u){return void o(u)}a.done?t(c):Promise.resolve(c).then(n,s)}function r(e){return function(){var t=this,o=arguments;return new Promise(function(n,s){var r=e.apply(t,o);function a(e){i(r,n,s,a,c,"next",e)}function c(e){i(r,n,s,a,c,"throw",e)}a(void 0)})}}var a=function(){return o.e("components/mpvue-picker/mpvuePicker").then(o.bind(null,"b156"))},c=function(){return Promise.all([o.e("common/vendor"),o.e("components/mpvue-citypicker/mpvueCityPicker")]).then(o.bind(null,"e3e3"))},u={components:{mpvuePicker:a,mpvueCityPicker:c},data:function(){return{company_type:0,company_name:"",business_licence_number:"",selectAreaTxt:"请选择所在区域",company_user_name:"",contacts_phone:"",title:"mpvue-picker 使用示例",mulLinkageTwoPicker:[],cityPickerValueDefault:[0,0,1],themeColor:"#007AFF",pickerText:"",mode:"",deepLength:1,pickerValueDefault:[0],pickerValueArray:[],selectStoreclassTxt:"选择所属行业",organization_code_electronic:"",company_user_name_pic:"",provId:0,cityId:0,areaId:0,storeClassId:0,storeClassId2:0,tky:"",organization_pic:"",user_pic:""}},onLoad:function(e){var t=this;console.log("------------"," at pages\\member\\register\\shopreg2.vue:105"),this.tky=e.tk,this.$Request.post("store_joinin/getstoreclass").then(function(e){200==e.code&&(console.log(e," at pages\\member\\register\\shopreg2.vue:109"),t.mulLinkageTwoPicker=e.datas)})},methods:{onCancel:function(e){console.log(e," at pages\\member\\register\\shopreg2.vue:118")},radioChange:function(e){this.company_type=e.target.value,console.log(e.target.value," at pages\\member\\register\\shopreg2.vue:122")},showMulLinkageTwoPicker:function(){this.pickerValueArray=this.mulLinkageTwoPicker,this.mode="multiLinkageSelector",this.deepLength=2,this.pickerValueDefault=[0,0],this.$refs.mpvuePicker.show()},showMulLinkageThreePicker:function(){this.$refs.mpvueCityPicker.show()},onConfirm:function(e){console.log(e," at pages\\member\\register\\shopreg2.vue:138"),this.selectAreaTxt=e.name,console.log(e.name," at pages\\member\\register\\shopreg2.vue:140"),this.provId=e.provinceCode,this.cityId=e.provinceCode,this.areaId=e.areaCode},onConfirm2:function(e){console.log(e," at pages\\member\\register\\shopreg2.vue:146"),this.selectStoreclassTxt=e.name,this.storeClassId=e.value[0],this.storeClassId2=e.value[1],console.log(e.name," at pages\\member\\register\\shopreg2.vue:150")},chooseImage:function(){var t=r(n.default.mark(function t(){var o=this;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.chooseImage({sourceType:["camera","album"],count:1,success:function(t){o.organization_code_electronic=t.tempFilePaths[0],console.log(JSON.stringify(t.tempFilePaths)," at pages\\member\\register\\shopreg2.vue:163"),o.$Request.upLoadFile("store_joinin/image_upload",o.organization_code_electronic).then(function(t){console.log(t," at pages\\member\\register\\shopreg2.vue:165"),console.log("===upload======"," at pages\\member\\register\\shopreg2.vue:166"),200==t.code?(console.log("===upload=2====="," at pages\\member\\register\\shopreg2.vue:168"),e.hideLoading(),console.log(t," at pages\\member\\register\\shopreg2.vue:170"),o.organization_pic=t.datas.image_name):(e.showToast({icon:"none",title:t.datas.error,duration:2e3}),e.hideLoading())})}});case 1:case"end":return t.stop()}},t,this)}));function o(){return t.apply(this,arguments)}return o}(),chooseUserImage:function(){var t=r(n.default.mark(function t(){var o=this;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.chooseImage({sourceType:["camera","album"],count:1,success:function(t){o.company_user_name_pic=t.tempFilePaths[0],console.log(JSON.stringify(t.tempFilePaths)," at pages\\member\\register\\shopreg2.vue:197"),o.$Request.upLoadFile("store_joinin/image_upload",o.company_user_name_pic).then(function(t){console.log(t," at pages\\member\\register\\shopreg2.vue:199"),console.log("===upload======"," at pages\\member\\register\\shopreg2.vue:200"),200==t.code?(console.log("===upload=2====="," at pages\\member\\register\\shopreg2.vue:202"),e.hideLoading(),console.log(t," at pages\\member\\register\\shopreg2.vue:204"),o.user_pic=t.datas.image_name):(e.showToast({icon:"none",title:t.datas.error,duration:2e3}),e.hideLoading())})}});case 1:case"end":return t.stop()}},t,this)}));function o(){return t.apply(this,arguments)}return o}(),nextReg:function(){var t=this.organization_pic,o=this.user_pic;if(0==this.company_type)return e.showToast({title:"请选择企业类型",icon:"none"}),!1;if(!/^[\u4e00-\u9fa5\(.*\)]{6,20}$/.test(this.company_name))return e.showToast({title:"请填写正确公司名称",icon:"none"}),!1;if(console.log("----"," at pages\\member\\register\\shopreg2.vue:234"),!/^[\u4e00-\u9fa5()]{2,10}$/.test(this.company_user_name))return e.showToast({title:"请填写正确的法人姓名",icon:"none"}),!1;if(!/^[A-Za-z0-9]+$/.test(this.business_licence_number)||18!=this.business_licence_number.length)return e.showToast({title:"请填写正确的统一信用号",icon:"none"}),!1;if(this.contacts_phone.length<8)return e.showToast({title:"请填写电话号码",icon:"none"}),!1;if(0==this.provId||0==this.cityId||0==this.areaId)return e.showToast({title:"请选择地区",icon:"none"}),!1;if(0==this.storeClassId||0==this.storeClassId2)return e.showToast({title:"请选择行业",icon:"none"}),!1;if(""==this.organization_pic)return e.showToast({title:"请上传营业执照",icon:"none"}),!1;if(""==this.user_pic)return e.showToast({title:"请上传法人身份证照片",icon:"none"}),!1;var n={company_name:this.company_name,company_province_id:this.provId,contacts_phone:this.contacts_phone,company_user_name:this.company_user_name,scid1:this.storeClassId,scid2:this.storeClassId2,scinfo:this.selectStoreclassTxt,company_user_name_pic:o,company_type:this.company_type,company_city_id:this.cityId,company_area_id:this.areaId,organization_code_electronic:t,company_address:this.selectAreaTxt,business_licence_number:this.business_licence_number,tky:this.tky};this.$Request.post("store_joinin/step2",n).then(function(t){200==t.code?(console.log(t," at pages\\member\\register\\shopreg2.vue:313"),e.navigateTo({url:"shopreg3?tk="+t.datas.tk})):e.showToast({icon:"none",title:t.datas.error,duration:2e3})})}},onBackPress:function(){if(this.$refs.mpvueCityPicker.showPicker)return this.$refs.mpvueCityPicker.pickerCancel(),!0},onUnload:function(){this.$refs.mpvueCityPicker.showPicker&&this.$refs.mpvueCityPicker.pickerCancel()}};t.default=u}).call(this,o("6e42")["default"])},f3eb:function(e,t,o){"use strict";o.r(t);var n=o("ec01"),s=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,function(){return n[e]})}(i);t["default"]=s.a}},[["5d3d","common/runtime","common/vendor"]]]);