(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/register/userreg"],{"28f4":function(e,t,n){},"2cf1":function(e,t,n){"use strict";n.r(t);var o=n("aa52"),s=n("7488");for(var i in s)"default"!==i&&function(e){n.d(t,e,function(){return s[e]})}(i);n("6781");var r=n("2877"),a=Object(r["a"])(s["default"],o["a"],o["b"],!1,null,null,null);t["default"]=a.exports},6781:function(e,t,n){"use strict";var o=n("28f4"),s=n.n(o);s.a},7488:function(e,t,n){"use strict";n.r(t);var o=n("f84b"),s=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);t["default"]=s.a},aa52:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s})},f84b:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{showTxt:"获取动态码",countdown:60,cTimer:null,phoneNumber:"",smscode:"",invitecode:"",isagree:!1,showNext:!1,username:"",nickname:"",pwd:"",pwd2:"",email:""}},onLoad:function(){console.log("页面加载"," at pages\\member\\register\\userreg.vue:93")},methods:{nextReg:function(){var t=this;return/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.phoneNumber)?/^[0-9]*$/.test(this.smscode)&&6==this.smscode.length?!/^[A-Za-z0-9]+$/.test(this.invitecode)||this.invitecode.length<3?(e.showToast({title:"请填写正确的邀请码",icon:"none"}),!1):this.isagree?void this.$Request.post("connect/check_sms_invite",{phone:this.phoneNumber,yzcode:this.smscode,invcode:this.invitecode,type:1}).then(function(n){200==n.code?(console.log(n," at pages\\member\\register\\userreg.vue:118"),t.showNext=!0):e.showToast({icon:"none",title:n.datas.error,duration:2e3})}):(e.showToast({title:"请选择同意注册协议",icon:"none",duration:2e3}),!1):(e.showToast({title:"请填写正确的验证码",icon:"none"}),!1):(e.showToast({title:"请填写正确手机号码",icon:"none"}),!1)},toPage:function(t){e.navigateTo({url:t})},toSendSms:function(){var t=this;if(!/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.phoneNumber))return e.showToast({title:"请填写正确手机号码",icon:"none"}),!1;this.$Request.post("connect/checkmob",{phone:this.phoneNumber}).then(function(n){200==n.code&&"1"==n.datas?t.$Request.post("connect/get_sms_captcha",{phone:t.phoneNumber,type:1}).then(function(n){200==n.code?(console.log(n," at pages\\member\\register\\userreg.vue:150"),t.startTimer(),e.showToast({title:"验证码已发送",icon:"none",duration:2e3})):e.showToast({icon:"none",title:n.datas.error,duration:2e3})}):e.showToast({icon:"none",title:"手机号码已存在",duration:2e3})})},startTimer:function(){var e=this;null==e.cTimer&&(e.cTimer=setInterval(function(){e.countdown--,0==e.countdown&&e.clearTimer()},1e3))},clearTimer:function(){var e=this;clearInterval(e.cTimer),e.cTimer=null,e.countdown=60,e.showTxt="重新发送"},checkboxChange:function(e){console.log("--------------"," at pages\\member\\register\\userreg.vue:196"),console.log(e.detail.value[0]," at pages\\member\\register\\userreg.vue:197"),e.detail.value.length>0&&(this.isagree=!0),console.log(this.isagree," at pages\\member\\register\\userreg.vue:203")},checkname:function(t){var n=t.detail.value;if(console.log(n," at pages\\member\\register\\userreg.vue:207"),!/(?=.*\d+)^[a-zA-Z]\w{5,11}$/.test(n))return e.showToast({title:"用户名以字母开头包含数字",icon:"none"}),!1;this.$Request.post("connect/check_member",{username:n,type:1}).then(function(t){200==t.code?console.log(t," at pages\\member\\register\\userreg.vue:215"):e.showToast({icon:"none",title:t.datas.error,duration:2e3})})},checknickname:function(t){var n=t.detail.value;if(!/^[\u4e00-\u9fa5]{0,6}$/.test(n))return e.showToast({title:"昵称必须为中文",icon:"none"}),!1},checkpwd1:function(t){var n=t.detail.value;if(!/^(?=.*?[a-z)(?=.*>[A-Z])(?=.*?[0-9])[a-zA_Z0-9]{6,10}$/.test(n))return e.showToast({title:"密码必须大于6位包含数字和字母",icon:"none"}),!1},checkpwd2:function(t){if(this.pwd!=this.pwd2)return e.showToast({title:"两次输入的密码不一致",icon:"none"}),!1},checkemail:function(t){var n=t.detail.value;if(!/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(n))return e.showToast({title:"邮箱格式不正确",icon:"none"}),!1;this.$Request.post("connect/check_email",{email:n,type:1}).then(function(t){200==t.code?console.log(t," at pages\\member\\register\\userreg.vue:269"):e.showToast({icon:"none",title:t.datas.error,duration:2e3})})},userReg:function(){if(!/(?=.*\d+)^[a-zA-Z]\w{5,11}$/.test(this.username))return e.showToast({title:"用户名以字母开头包含数字",icon:"none"}),!1;if(!/^[\u4e00-\u9fa5]{0,6}$/.test(this.nickname))return e.showToast({title:"昵称必须为中文",icon:"none"}),!1;if(!/^(?=.*?[a-z)(?=.*>[A-Z])(?=.*?[0-9])[a-zA_Z0-9]{6,10}$/.test(this.pwd))return e.showToast({title:"密码必须大于6位包含数字和字母",icon:"none"}),!1;if(this.pwd!=this.pwd2)return e.showToast({title:"两次输入的密码不一致",icon:"none"}),!1;if(!/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(this.email))return e.showToast({title:"邮箱格式不正确",icon:"none"}),!1;""!=this.phoneNumber&&""!=this.smscode&&""!=this.invitecode||(e.showToast({title:"参数错误",icon:"none"}),e.switchTab({url:"userreg"}));var t={phone:this.phoneNumber,yzcode:this.smscode,invcode:this.invitecode,type:1,password:this.pwd,username:this.username,password_confirm:this.pwd2,email:this.email};this.$Request.post("connect/sms_register",t).then(function(t){200==t.code?(console.log(t," at pages\\member\\register\\userreg.vue:313"),e.showToast({icon:"none",title:"注册成功！",duration:3e3}),e.switchTab({url:"/pages/member/login"})):e.showToast({icon:"none",title:t.datas.error,duration:2e3})})}}};t.default=n}).call(this,n("6e42")["default"])}},[["d847","common/runtime","common/vendor"]]]);