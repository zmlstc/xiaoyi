(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/points/pointslog"],{"0db1":function(t,e,o){"use strict";var n=o("3001"),s=o.n(n);s.a},"166d":function(t,e,o){"use strict";o.r(e);var n=o("43ff"),s=o("bc74");for(var i in s)"default"!==i&&function(t){o.d(e,t,function(){return s[t]})}(i);o("0db1");var a=o("2877"),l=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,null,null);e["default"]=l.exports},3001:function(t,e,o){},"43ff":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},s=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return s})},bc74:function(t,e,o){"use strict";o.r(e);var n=o("e581"),s=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);e["default"]=s.a},e581:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o("a34a")),s=o("2f62");function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e,o,n,s,i,a){try{var l=t[i](a),u=l.value}catch(r){return void o(r)}l.done?e(u):Promise.resolve(u).then(n,s)}function l(t){return function(){var e=this,o=arguments;return new Promise(function(n,s){var i=t.apply(e,o);function l(t){a(i,n,s,l,u,"next",t)}function u(t){a(i,n,s,l,u,"throw",t)}l(void 0)})}}var u={data:function(){return{list:[],loadingText:"正在加载...",hasmore:!0,curpage:1,theIndex:null,oldIndex:null,isStop:!1,point:""}},computed:(0,s.mapState)(["hasLogin","userInfo"]),onLoad:function(){var t=this;console.log("页面加载"," at pages\\member\\points\\pointslog.vue:56"),this.hasLogin&&this.$Request.post("member_index/my_asset",{fields:"point"}).then(function(e){200==e.code&&(console.log(e," at pages\\member\\points\\pointslog.vue:60"),t.point=e.datas.point)}),this.loadData()},onReachBottom:function(){console.log("下拉加载..."," at pages\\member\\points\\pointslog.vue:69"),this.curpage++,this.loadData()},onPageScroll:function(){console.log("页面滚动..."," at pages\\member\\points\\pointslog.vue:74")},onPullDownRefresh:function(){console.log("上拉刷新..."," at pages\\member\\points\\pointslog.vue:77"),t.stopPullDownRefresh()},methods:{loadData:function(){var e=l(n.default.mark(function e(){var o=this;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("===userInfo==="+this.hasLogin," at pages\\member\\points\\pointslog.vue:82"),console.log(this.userInfo," at pages\\member\\points\\pointslog.vue:83"),console.log(this.userInfo.token," at pages\\member\\points\\pointslog.vue:84"),this.hasLogin){e.next=7;break}t.navigateTo({url:"login"}),e.next=11;break;case 7:if(this.hasmore){e.next=10;break}return this.loadingText="到底了",e.abrupt("return",!1);case 10:this.$Request.post("member_points/pointslog",{curpage:this.curpage}).then(function(e){if(200==e.code){console.log(e," at pages\\member\\points\\pointslog.vue:96"),o.hasmore=e.hasmore,console.log(o.hasmore," at pages\\member\\points\\pointslog.vue:98");for(var n=e.datas.list,s=0;s<n.length;s++)o.list.push(n[s])}else t.showToast({icon:"none",title:e.datas.error,duration:2e3}),t.navigateTo({url:"login"})});case 11:case"end":return e.stop()}},e,this)}));function o(){return e.apply(this,arguments)}return o}(),toPage:function(e){t.navigateTo({url:e})},touchStart:function(t,e){console.log("====touchStart===="," at pages\\member\\points\\pointslog.vue:124"),e.touches.length>1?this.isStop=!0:(this.oldIndex=this.theIndex,this.theIndex=null,this.initXY=[e.touches[0].pageX,e.touches[0].pageY])},touchMove:function(t,e){var o=this;if(console.log("====touchMove===="," at pages\\member\\points\\pointslog.vue:136"),e.touches.length>1)this.isStop=!0;else{var n=e.touches[0].pageX-this.initXY[0],s=e.touches[0].pageY-this.initXY[1];this.isStop||Math.abs(n)<5||(Math.abs(s)>Math.abs(n)?this.isStop=!0:n<0?(this.theIndex=t,this.isStop=!0):n>0&&null!=this.theIndex&&this.oldIndex==this.theIndex&&(this.oldIndex=t,this.theIndex=null,this.isStop=!0,setTimeout(function(){o.oldIndex=null},150)))}},touchEnd:function(t,e){console.log("====touchEnd===="," at pages\\member\\points\\pointslog.vue:169"),this.isStop=!1},deleteOrder:function(e){var o=this;console.log("====deleteOrder===="," at pages\\member\\points\\pointslog.vue:175"),this.$Request.post("member_points/pldelete",{pl_id:e}).then(function(n){if(200==n.code){console.log(n," at pages\\member\\points\\pointslog.vue:178");for(var s=o.list.length,i=0;i<s;i++)if(e==o.list[i].pl_id){o.list.splice(i,1);break}o.oldIndex=null,o.theIndex=null}else t.showToast({icon:"none",title:n.datas.error,duration:2e3})})}}};e.default=u}).call(this,o("6e42")["default"])}},[["a73a","common/runtime","common/vendor"]]]);