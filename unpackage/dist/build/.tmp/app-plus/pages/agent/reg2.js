(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/agent/reg2"],{"0098":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(t("a34a"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,n,t,o,a,i,s){try{var r=e[i](s),c=r.value}catch(u){return void t(u)}r.done?n(c):Promise.resolve(c).then(o,a)}function s(e){return function(){var n=this,t=arguments;return new Promise(function(o,a){var s=e.apply(n,t);function r(e){i(s,o,a,r,c,"next",e)}function c(e){i(s,o,a,r,c,"throw",e)}r(void 0)})}}var r=function(){return Promise.all([t.e("common/vendor"),t.e("components/mpvue-citypicker/mpvueCityPicker")]).then(t.bind(null,"e3e3"))},c={components:{mpvueCityPicker:r},data:function(){return{business_licence_number:"",selectAreaTxt:"请选择所在区域",company_user_name:"",contacts_phone:"",cityPickerValueDefault:[0,0,1],themeColor:"#007AFF",organization_code_electronic:"",company_user_name_pic:"",provId:0,cityId:0,areaId:0,tky:"",organization_pic:"",user_pic:""}},onLoad:function(e){console.log("------------"," at pages\\agent\\reg2.vue:71"),this.tky=e.tk},methods:{onCancel:function(e){console.log(e," at pages\\agent\\reg2.vue:77")},showMulLinkageThreePicker:function(){this.$refs.mpvueCityPicker.show()},onConfirm:function(e){console.log(e," at pages\\agent\\reg2.vue:84"),this.selectAreaTxt=e.name,console.log(e.name," at pages\\agent\\reg2.vue:86"),this.provId=e.provinceCode,this.cityId=e.provinceCode,this.areaId=e.areaCode},chooseImage:function(){var n=s(o.default.mark(function n(){var t=this;return o.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:e.chooseImage({sourceType:["camera","album"],count:1,success:function(n){t.organization_code_electronic=n.tempFilePaths[0],console.log(JSON.stringify(n.tempFilePaths)," at pages\\agent\\reg2.vue:102"),t.$Request.upLoadFile("agent_joinin/image_upload",t.organization_code_electronic).then(function(n){console.log(n," at pages\\agent\\reg2.vue:104"),console.log("===upload======"," at pages\\agent\\reg2.vue:105"),200==n.code?(console.log("===upload=2====="," at pages\\agent\\reg2.vue:107"),e.hideLoading(),console.log(n," at pages\\agent\\reg2.vue:109"),t.organization_pic=n.datas.image_name):(e.showToast({icon:"none",title:n.datas.error,duration:2e3}),e.hideLoading())})}});case 1:case"end":return n.stop()}},n,this)}));function t(){return n.apply(this,arguments)}return t}(),chooseUserImage:function(){var n=s(o.default.mark(function n(){var t=this;return o.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:e.chooseImage({sourceType:["camera","album"],count:1,success:function(n){t.company_user_name_pic=n.tempFilePaths[0],console.log(JSON.stringify(n.tempFilePaths)," at pages\\agent\\reg2.vue:136"),t.$Request.upLoadFile("agent_joinin/image_upload",t.company_user_name_pic).then(function(n){console.log(n," at pages\\agent\\reg2.vue:138"),console.log("===upload======"," at pages\\agent\\reg2.vue:139"),200==n.code?(console.log("===upload=2====="," at pages\\agent\\reg2.vue:141"),e.hideLoading(),console.log(n," at pages\\agent\\reg2.vue:143"),t.user_pic=n.datas.image_name):(e.showToast({icon:"none",title:n.datas.error,duration:2e3}),e.hideLoading())})}});case 1:case"end":return n.stop()}},n,this)}));function t(){return n.apply(this,arguments)}return t}(),nextReg:function(){var n=this.organization_pic,t=this.user_pic;if(console.log("----"," at pages\\agent\\reg2.vue:163"),!/^[\u4e00-\u9fa5()]{2,10}$/.test(this.company_user_name))return e.showToast({title:"请填写正确的法人姓名",icon:"none"}),!1;if(!/^[A-Za-z0-9]+$/.test(this.business_licence_number)||18!=this.business_licence_number.length)return e.showToast({title:"请填写正确的统一信用号",icon:"none"}),!1;if(this.contacts_phone.length<8)return e.showToast({title:"请填写电话号码",icon:"none"}),!1;if(0==this.provId||0==this.cityId||0==this.areaId)return e.showToast({title:"请选择地区",icon:"none"}),!1;if(""==this.organization_pic)return e.showToast({title:"请上传营业执照",icon:"none"}),!1;if(""==this.user_pic)return e.showToast({title:"请上传法人身份证照片",icon:"none"}),!1;var o={company_province_id:this.provId,contacts_phone:this.contacts_phone,company_user_name:this.company_user_name,company_user_name_pic:t,company_city_id:this.cityId,company_area_id:this.areaId,organization_code_electronic:n,company_address:this.selectAreaTxt,business_licence_number:this.business_licence_number,tky:this.tky};this.$Request.post("agent_joinin/step2",o).then(function(n){200==n.code?(console.log(n," at pages\\agent\\reg2.vue:200"),e.showToast({icon:"none",title:"资料提交成功，等待审核",duration:2e3,success:function(){e.navigateTo({url:"/pages/member/home"})}})):e.showToast({icon:"none",title:n.datas.error,duration:2e3})})}},onBackPress:function(){if(this.$refs.mpvueCityPicker.showPicker)return this.$refs.mpvueCityPicker.pickerCancel(),!0},onUnload:function(){this.$refs.mpvueCityPicker.showPicker&&this.$refs.mpvueCityPicker.pickerCancel()}};n.default=c}).call(this,t("6e42")["default"])},2736:function(e,n,t){"use strict";t.r(n);var o=t("0098"),a=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(n,e,function(){return o[e]})}(i);n["default"]=a.a},"42fd":function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement;e._self._c},a=[];t.d(n,"a",function(){return o}),t.d(n,"b",function(){return a})},"53d0":function(e,n,t){},"5db0":function(e,n,t){"use strict";t.r(n);var o=t("42fd"),a=t("2736");for(var i in a)"default"!==i&&function(e){t.d(n,e,function(){return a[e]})}(i);t("e025");var s=t("2877"),r=Object(s["a"])(a["default"],o["a"],o["b"],!1,null,null,null);n["default"]=r.exports},e025:function(e,n,t){"use strict";var o=t("53d0"),a=t.n(o);a.a}},[["32ca","common/runtime","common/vendor"]]]);