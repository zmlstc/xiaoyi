(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/agent/reg"],{"0808":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){return Promise.all([n.e("common/vendor"),n.e("components/mpvue-citypicker/mpvueCityPicker")]).then(n.bind(null,"e3e3"))},i={components:{mpvueCityPicker:o},data:function(){return{showTxt:"获取动态码",countdown:60,cTimer:null,phoneNumber:"",smscode:"",isagree:!1,company_name:"",contacts_name:"",contacts_email:"",cityPickerValueDefault:[0,0,1],selectAreaTxt:"选择代理的区域",provId:0,cityId:0,areaId:0,themeColor:"#007AFF"}},onLoad:function(){console.log("页面加载"," at pages\\agent\\reg.vue:73")},methods:{nextReg:function(){if(!/^[\u4e00-\u9fa5\(.*\)]{6,20}$/.test(this.company_name))return e.showToast({title:"请填写正确公司名称",icon:"none"}),!1;if(!/^[\u4e00-\u9fa5()]{2,10}$/.test(this.contacts_name))return e.showToast({title:"请填写正确的联系人姓名",icon:"none"}),!1;if(!/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.phoneNumber))return e.showToast({title:"请填写正确手机号码",icon:"none"}),!1;if(!/^[0-9]*$/.test(this.smscode)||6!=this.smscode.length)return e.showToast({title:"请填写正确的验证码",icon:"none"}),!1;if(!/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(this.contacts_email))return e.showToast({title:"邮箱格式不正确",icon:"none"}),!1;if(0==this.provId||0==this.cityId||0==this.areaId)return e.showToast({title:"请选择代理地区",icon:"none"}),!1;if(console.log(this.isagree," at pages\\agent\\reg.vue:104"),!this.isagree)return e.showToast({title:"请选择同意商家协议",icon:"none",duration:2e3}),!1;var t={phone:this.phoneNumber,yzcode:this.smscode,company_name:this.company_name,type:4,contacts_name:this.contacts_name,contacts_email:this.contacts_email,provId:this.provId,cityId:this.cityId,areaId:this.areaId,areainfo:this.selectAreaTxt};this.$Request.post("agent_joinin/check_sms_add",t).then(function(t){200==t.code?(console.log(t," at pages\\agent\\reg.vue:114"),e.navigateTo({url:"reg2?tk="+t.datas.tk})):e.showToast({icon:"none",title:t.datas.error,duration:2e3})})},showMulLinkageThreePicker:function(){this.$refs.mpvueCityPicker.show()},onConfirm:function(e){console.log(e," at pages\\agent\\reg.vue:139"),this.selectAreaTxt=e.name,console.log(e.name," at pages\\agent\\reg.vue:141"),this.provId=e.provinceCode,this.cityId=e.provinceCode,this.areaId=e.areaCode},toSendSms:function(){var t=this;if(!/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.phoneNumber))return e.showToast({title:"请填写正确手机号码",icon:"none"}),!1;this.$Request.post("agent_joinin/checkmob",{phone:this.phoneNumber}).then(function(n){200==n.code&&"1"==n.datas?t.$Request.post("connect/get_sms_captcha",{phone:t.phoneNumber,type:4}).then(function(n){200==n.code?(console.log(n," at pages\\agent\\reg.vue:156"),t.startTimer(),e.showToast({title:"验证码已发送",icon:"none",duration:2e3})):e.showToast({icon:"none",title:n.datas.error,duration:2e3})}):e.showToast({icon:"none",title:"手机号码已存在",duration:2e3})})},startTimer:function(){var e=this;null==e.cTimer&&(e.cTimer=setInterval(function(){e.countdown--,0==e.countdown&&e.clearTimer()},1e3))},clearTimer:function(){var e=this;clearInterval(e.cTimer),e.cTimer=null,e.countdown=60,e.showTxt="重新发送"},checkboxChange:function(e){console.log("--------------"," at pages\\agent\\reg.vue:202"),console.log(e.detail.value[0]," at pages\\agent\\reg.vue:203"),e.detail.value.length>0?this.isagree=!0:this.isagree=!1,console.log(this.isagree," at pages\\agent\\reg.vue:211")},onBackPress:function(){if(this.$refs.mpvueCityPicker.showPicker)return this.$refs.mpvueCityPicker.pickerCancel(),!0},onUnload:function(){this.$refs.mpvueCityPicker.showPicker&&this.$refs.mpvueCityPicker.pickerCancel()}}};t.default=i}).call(this,n("6e42")["default"])},"0850":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i})},"6c0f":function(e,t,n){},"77ee":function(e,t,n){"use strict";n.r(t);var o=n("0850"),i=n("bc5f");for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);n("e3a7");var s=n("2877"),c=Object(s["a"])(i["default"],o["a"],o["b"],!1,null,null,null);t["default"]=c.exports},bc5f:function(e,t,n){"use strict";n.r(t);var o=n("0808"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t["default"]=i.a},e3a7:function(e,t,n){"use strict";var o=n("6c0f"),i=n.n(o);i.a}},[["42ba","common/runtime","common/vendor"]]]);